% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/ci_quantile_scre.R
\name{ci_quantile_scre}
\alias{ci_quantile_scre}
\title{ci_quantile_scre}
\usage{
ci_quantile_scre(
  Z,
  Y,
  block,
  quantiles = NULL,
  alternative = "upper",
  method.list.all = NULL,
  opt.method = "Greedy",
  ties = "fix",
  stat.null = NULL,
  switch = FALSE,
  null.max = 10^5,
  confidence = 0.9
)
}
\arguments{
\item{Z}{A numeric vector of treatment assignment. 0 indicates control and 1 treated.}

\item{Y}{A numeric vector contains response values of the group.}

\item{block}{A factor vector indicates to which blocks the units belong.}

\item{quantiles}{Specify which quantiles of treatment effects that you want to calculate confidence intervals. It should be a subvector of integers from 1 to number of units. If \code{quantiles == NULL}, it will calculate all quantiles. Default is NULL.}

\item{alternative}{Options: \code{"lower"}, \code{"upper"}, \code{"two.sided"}, which will give lower one-sided, upper one-sided and two-sided confidence intervals, respectively. Default is "upper".}

\item{method.list.all}{A list that contains the type of the rank scores. It should be a list with length equal to the number of strata. Default is \code{NULL}.}

\item{opt.method}{Algorithm that is used for optimization. Available algorithms are \code{"Greedy", "DP", "Mcknap", "LP", "ILP" and "LP_gurobi", "ILP_gurobi", "PWL_gurobi", "PWLint_gurobi"}. Gurobi installation is required for gurobi to be used. Default is \code{"Greedy"}.}

\item{ties}{A subvector of \code{c("upper", "lower", "fix")} indicating which tie-dealing methods we use to calculate statistics. "upper" will use the method that will produce maximum statistic, while "lower" will get minimum. "fix" however will order the ties the same way as "first" method in rank function. Default is \code{c("upper", "lower", "fix")}.}

\item{stat.null}{Null distribution of test statistics. If no input, then it will be generated automatically.}

\item{switch}{Logical variable. If true, the function uses switching treatment and control label is the number of treated units is less than that of control units in one stratum. Default is "False".}

\item{null.max}{The total amount of values we use to approximate the null distribution. Default is \code{1e5}.}

\item{confidence}{scalar between 0 and 1. Confidence level of the confidence region. Default is \code{0.9}.}
}
\value{
A list contains upper and lower limits of confidence intervals.
}
\description{
A function to help determine confidence region of treatment effects under SCRE.
}
\examples{
data("cadmium")
Y = cadmium$cadmium
block = cadmium$mset
Z = cadmium$z
n = length(Z)
### use stratified Wilcoxon test statistics for all strata. 
method.list.all = list()
method.list.all[[1]] = list(name = "Wilcoxon") 
### Calculate 90\% confidence intervals for the top 10 percent largest treatment effects.
CIs = ci_quantile_scre(Z,Y,block,quantiles=floor(0.9*n):n,alternative = "two.sided",method.list.all=method.list.all,opt.method = "Greedy", switch = TRUE, null.max=10^5)

}
